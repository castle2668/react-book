---
sidebar_position: 5
---

# Refs & Forward Refs

## âš“ useRef Hook

> ğŸ’¡ å”¯è®€å±¬æ€§
> ref = Reference
> If you just want to **read** the value, you can use ref instead of state.

å¦‚æœåªæ˜¯è¦å–å¾—é€å‡ºçš„å€¼ï¼Œè€Œéæ“ä½œä¿®æ”¹å€¼çš„è©±ï¼Œå…¶å¯¦ä¸å¿…ä½¿ç”¨åˆ° useState + onChange ä¾†ç›£æ§æ¯ä¸€æ¬¡è¼¸å…¥çš„è®ŠåŒ–ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ useRef ä¾†è™•ç†é€™å€‹æƒ…æ³ã€‚

```jsx
// Add useRef to HTML Input Tag
const nameInputRef = useRef();
<input id="username" type="text" ref={nameInputRef} />;

// useRef.current is pointed to the <input> element
console.log(nameInputRef.current); // <input id="username" type="text">

// æ³¨æ„ value å–å¾—çš„å€¼æœƒæ˜¯ String å‹åˆ¥ï¼Œå³ä½¿ input type è¨­å®šç‚º number ä¹Ÿä¸€æ¨£
console.log(nameInputRef.current.value); // "1"
console.log(+amountInputRef.current.value); // Convert a numbered "String" to a "Number"
```

But there is an edge case of manipulating the DOM. This line of code is the regular DOM API for setting the value of an input DOM node.
This is also called "Uncontrolled" component, cause this is not controlled with React.

```jsx
// Manipulating the DOM
nameInputRef.current.value = '';
```

> ä¸éä¸Šé¢é€™å€‹æ¸…ç©ºè¼¸å…¥æ¬„çš„å‹•ä½œæ˜¯å¯ä»¥æ¥å—çš„ï¼Œå› ç‚ºæˆ‘å€‘ä¸¦æ²’æœ‰é€é useRef ä¾†æ–°å¢ DOMï¼Œå¦‚æœåªæ˜¯å–®ç´”æ›´æ”¹è¼¸å…¥æ¬„ä½çš„å€¼ï¼Œæˆ‘è¦ºå¾—å½±éŸ¿æ‡‰è©²ä¸å¤§ï¼Œç®—æ˜¯åœ¨å¯æ¥å—çš„ç¯„åœå…§ï¼

## forwardRef

å¦‚æœä¸æ˜¯åŸç”Ÿçš„ HTML æ¨™ç±¤ï¼Œè€Œæ˜¯è‡ªå·±å¯«çš„å…ƒä»¶ï¼Œæˆ‘å€‘æ²’è¾¦æ³•ç›´æ¥ä½¿ç”¨ `ref`ï¼Œå¿…é ˆè¦é€é forwardRef æŠŠå…ƒä»¶åŒ…è£èµ·ä¾†å¾€å‰å‚³ï¼Œå¦‚æ­¤ä¸€ä¾†æ‰èƒ½æŠŠ `ref` ç•¶æˆ Props ä¾†å‚³éä½¿ç”¨ã€‚

ä½¿ç”¨ forwardRef åŒ…è£å¾Œï¼Œå…ƒä»¶å°±å¯ä»¥ä½¿ç”¨åƒæ•¸ `ref` å“©ã€‚

```jsx
const Input = (props, ref) => {
  return (
    <div className={classes.input}>
      <label htmlFor={props.input.id}>{props.label}</label>
      <input ref={ref} {...props.input} />
    </div>
  );
};

const forwardInput = React.forwardRef(Input);
```

[https://youtu.be/ScT4ElKd6eo](https://youtu.be/ScT4ElKd6eo)

## å›é¡§

çœ‹å®Œé€™ç¯‡æ–‡ç« ï¼Œæˆ‘å€‘åˆ°åº•æœ‰ä»€éº¼æ”¶ç©«å‘¢ï¼Ÿè—‰ç”±æœ¬æ–‡å¯ä»¥ç†è§£åˆ°â€¦

- React

## References

- [React - The Complete Guide (incl Hooks, React Router, Redux)](https://www.udemy.com/course/react-the-complete-guide-incl-redux/)
