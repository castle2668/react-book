---
sidebar_position: 2
---

# Lifting The State Up

> 觀念近似 Vue 的 Emit (From Child to Parent)

當 Parent component 需要取得由 Child component 生成的 data 時，我們可以使用 Lifting The State Up 的技巧。

Step 1: 在 Parent component 建立一個函式，將它作為 Child component 的 Props (`onXxx`) 的 Value。

```jsx
// Inside of the "ParentComponent" component function

const xxxHandler = () => {
  // do something...
};

// Return JSX
<ChildComponent onXXX={xxxHandler} />;
```

Step 2: 在 Child component 執行函式 `props.onXxx` 等同於執行了 Parent component 的 `xxxHandler` 函式，因為函式傳遞的是 **Pointer (By Reference)**。

```jsx
// Inside of the "ChildComponent" component function

props.onXxx();
```

Step 3: 從 Child component 放入參數傳回 Parent component，讓 Parent component 可以從參數獲得 Child component 的 data，這樣就完成 Lifting The State Up (Emit) 的動作了。

```jsx
// Inside of the "ChildComponent" component function

const childData = {
  title: 'Child Title',
  data: new Date(),
};

props.onXxx(childData);
```

```jsx
// Inside of the "ParentComponent" component function

const xxxHandler = (enteredChildData) => {
  // do something...
  const childData = { ...enteredChildData };
  console.log(childData);
};

// Return JSX
<ChildComponent onXXX={xxxHandler} />;
```

## 回顧

看完這篇文章，我們到底有什麼收穫呢？藉由本文可以理解到…

- useState Hook
- Lifting The State Up

## References

- [React - The Complete Guide (incl Hooks, React Router, Redux)](https://www.udemy.com/course/react-the-complete-guide-incl-redux/)
