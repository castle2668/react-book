---
sidebar_position: 1
---

# Working with State - useState

## åˆå§‹åŒ–

State åªæœƒåœ¨ç¬¬ä¸€æ¬¡è¼‰å…¥æ™‚åˆå§‹åŒ–ï¼Œé™¤é DOM ç§»é™¤ï¼Œå¦å‰‡ `useState` ç®¡ç†çš„ State éƒ½ä¸æœƒé‡æ–°åˆå§‹åŒ–ã€‚

## æ›´æ”¹ç‹€æ…‹

é€²è¡Œ `setState` æ™‚ä¸¦ä¸æœƒé¦¬ä¸Šæ›´æ”¹ç‹€æ…‹ï¼Œè€Œæ˜¯æœƒé€²å…¥æ’ç¨‹ï¼Œå„ªå…ˆå®Œæˆæ›´é‡è¦çš„å·¥ä½œï¼Œä¸é React é‚„æ˜¯æœƒç¢ºä¿æˆ‘å€‘æ”¹è®Š State çš„é †åºæ˜¯æ­£ç¢ºçš„ã€‚

ä¾‹å¦‚ï¼šä»¥ä¸‹æ’ç¨‹å¤šå€‹ `setState`ï¼ŒReact æœƒåˆ°æœ€å¾Œæ‰æŒ‰ç…§æ’ç¨‹é †åºåŸ·è¡Œç‹€æ…‹æ”¹è®Šï¼Œçµæœ State å°±æœƒå¾—åˆ° Bookã€‚

```jsx
const [state, setState] = useState('DVD');

setState('Pencil');
setState('Book'); // æœ€å¾Œçš„ç‹€æ…‹æœƒè®Šæˆ Book
```

## å–å¾—ç‹€æ…‹å¿«ç…§

æœ‰æ™‚å€™æˆ‘å€‘éœ€è¦é¦¬ä¸Šå–å¾—æ”¹è®Šçš„çµæœï¼Œæ–¹ä¾¿å»åšä¸€äº›æ‡‰ç”¨æˆ–è¨ˆç®—ã€‚é€™æ™‚å€™æˆ‘å€‘å¯ä»¥é€éã€Œå‡½å¼ã€çš„å½¢å¼ï¼Œè®“ç‹€æ…‹æ›´æ–°å¯ä»¥ä¾è³´æ–¼ä¹‹å‰çš„ç‹€æ…‹å¿«ç…§ (Snapshot)ã€‚

é€™æ¨£æˆ‘å€‘å°±èƒ½å¾—åˆ°åŸºæ–¼ç‹€æ…‹å¿«ç…§ (Snapshot) çš„æ–°ç‹€æ…‹ï¼Œè€Œä¸æ˜¯æ°¸é éƒ½åªæœƒæ‹¿åˆ°æœ€æ–°çš„é‚£ä¸€å€‹ç‹€æ…‹å“©ï¼

```jsx
// ğŸ‘‡ Updating State That Depends On The Previous State.
// Safer way: Ensure the Latest state snapshot (If it depends on the previous state)
setUserInput((prevState) => {
  return { ...prevState, enteredTitle: event.target.value };
});

// Complex state: arrays
setUserInput((prevArray) => {
  return [...prevArray, { enteredTitle: event.target.value }];
});

// Complex state: objects
setUserInput((prevObject) => {
  return { ...prevObject, enteredTitle: event.target.value };
});
```

æ‰€ä»¥å¦‚æœæ–°ç‹€æ…‹çš„æ”¹è®Šï¼Œæ˜¯ä¾è³´æ–¼å‰ä¸€å€‹ç‹€æ…‹çš„è©±ï¼Œæˆ‘å€‘å°±è¦ç”¨é€™ç¨® Callback Function çš„å½¢å¼ï¼Œé€é return å–å¾—æœ€æ–°çš„ç‹€æ…‹ã€‚

é™¤äº†ä¸Šé¢çš„æ–¹æ³•ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ `useEffect`ï¼Œå®ƒè·Ÿå‡½å¼å½¢å¼ä¸€æ¨£éƒ½æœƒå»çœ‹ä¾è³´çš„ç‹€æ…‹æœ‰æ²’æœ‰æ”¹è®Šï¼Œå¦‚æœæ”¹è®Šäº†å°±æœƒé¦¬ä¸ŠåŸ·è¡Œ `setState`ï¼Œå› è€Œä¸æœƒéŒ¯éç‹€æ…‹æ”¹è®Šï¼Œèƒ½å¤ ç¢ºä¿å–å¾—æœ€æ–°çš„ç‹€æ…‹ã€‚

å› æ­¤ï¼Œåœ¨ `useEffect` è£¡ä½¿ç”¨çš„ `setState` çš„è©±ï¼Œå³ä½¿ä¸æ˜¯å‡½å¼çš„å½¢å¼ï¼Œä¹Ÿæœƒå³æ™‚æ›´æ–°ç‹€æ…‹å–”ï¼

## Recap

- State
- useState Hook

## References

- [React - The Complete Guide (incl Hooks, React Router, Redux)](https://www.udemy.com/course/react-the-complete-guide-incl-redux/)
